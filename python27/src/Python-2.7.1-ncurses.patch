--- Python-2.7.1/Include/py_curses.hncurses	2010-03-25 01:54:54.000000000 +0100
+++ Python-2.7.1/Include/py_curses.h	2011-05-15 12:07:23.754000000 +0200
@@ -44,8 +44,8 @@
 #endif
 #endif
 
-#ifdef HAVE_NCURSES_H
-#include <ncurses.h>
+#ifdef HAVE_NCURSES_NCURSES_H
+#include <ncurses/ncurses.h>
 #else
 #include <curses.h>
 #ifdef HAVE_TERM_H
@@ -54,7 +54,7 @@
 #endif
 #endif
 
-#ifdef HAVE_NCURSES_H
+#ifdef HAVE_NCURSES_NCURSES_H
 /* configure was checking <curses.h>, but we will
    use <ncurses.h>, which has all these features. */
 #ifndef WINDOW_HAS_FLAGS
--- Python-2.7.1/Modules/_cursesmodule.cncurses	2010-07-30 23:27:18.000000000 +0200
+++ Python-2.7.1/Modules/_cursesmodule.c	2011-05-15 12:09:29.474000000 +0200
@@ -118,11 +118,11 @@
     curses module in other ways.  So the code will just specify
     explicit prototypes here. */
 extern int setupterm(char *,int,int *);
-#ifdef __sgi
+#if defined(__sgi) && !defined(HAVE_NCURSES_NCURSES_H)
 #include <term.h>
 #endif
 
-#if !defined(HAVE_NCURSES_H) && (defined(sgi) || defined(__sun) || defined(SCO5))
+#if !defined(HAVE_NCURSES_NCURSES_H) && (defined(sgi) || defined(__sun) || defined(SCO5))
 #define STRICT_SYSV_CURSES       /* Don't use ncurses extensions */
 typedef chtype attr_t;           /* No attr_t type is available */
 #endif
@@ -653,7 +653,7 @@
     return Py_None;
 }
 
-#if defined(HAVE_NCURSES_H) || defined(MVWDELCH_IS_EXPRESSION)
+#if defined(HAVE_NCURSES_NCURSES_H) || defined(MVWDELCH_IS_EXPRESSION)
 #define py_mvwdelch mvwdelch
 #else
 int py_mvwdelch(WINDOW *w, int y, int x)
@@ -1953,7 +1953,7 @@
     SetDictInt("ACS_HLINE",         (ACS_HLINE));
     SetDictInt("ACS_VLINE",         (ACS_VLINE));
     SetDictInt("ACS_PLUS",          (ACS_PLUS));
-#if !defined(__hpux) || defined(HAVE_NCURSES_H)
+#if !defined(__hpux) || defined(HAVE_NCURSES_NCURSES_H)
     /* On HP/UX 11, these are of type cchar_t, which is not an
        integral type. If this is a problem on more platforms, a
        configure test should be added to determine whether ACS_S1
--- Python-2.7.1/Modules/_curses_panel.cncurses	2010-05-09 16:46:46.000000000 +0200
+++ Python-2.7.1/Modules/_curses_panel.c	2011-05-15 12:07:23.784000000 +0200
@@ -14,7 +14,11 @@
 
 #include "py_curses.h"
 
+#ifdef HAVE_NCURSES_NCURSES_H
+#include <ncurses/panel.h>
+#else
 #include <panel.h>
+#endif
 
 static PyObject *PyCursesError;
 
--- Python-2.7.1/configure.inncurses	2011-05-15 11:45:55.047460000 +0200
+++ Python-2.7.1/configure.in	2011-05-15 12:07:48.664000000 +0200
@@ -1361,7 +1361,7 @@
 AC_HEADER_STDC
 AC_CHECK_HEADERS(asm/types.h conio.h curses.h direct.h dlfcn.h errno.h \
 fcntl.h grp.h \
-ieeefp.h io.h langinfo.h libintl.h ncurses.h poll.h process.h pthread.h \
+ieeefp.h io.h langinfo.h libintl.h ncurses/ncurses.h poll.h process.h pthread.h \
 shadow.h signal.h stdint.h stropts.h termios.h thread.h \
 unistd.h utime.h \
 sys/audioio.h sys/bsdtty.h sys/epoll.h sys/event.h sys/file.h sys/loadavg.h \
