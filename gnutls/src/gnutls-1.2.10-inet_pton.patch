--- gnutls-1.2.10/doc/examples/tcp.c.inet_pton	Sun May  7 11:09:09 2006
+++ gnutls-1.2.10/doc/examples/tcp.c	Sun May  7 11:17:06 2006
@@ -12,6 +12,29 @@
 /* Irix 6.2 doesn't define SHUT_RD, SHUT_WR and SHUT_RDWR in socket.h */
 #define SHUT_RDWR 2
 
+/* Irix 5.3 lacks inet_pton */
+/* This implementation was grabbed from an online extract of the book:
+ * Unix Network Programming, Volume 1: The Sockets Networking API, 3rd Edition
+ */
+
+#include <errno.h>
+int
+inet_pton(int family, const char *strptr, void *addrptr)
+{
+    if (family == AF_INET) {
+        struct in_addr in_val;
+
+        if (inet_aton(strptr, &in_val)) {
+            memcpy(addrptr, &in_val, sizeof(struct in_addr));
+            return (1);
+        }
+        return (0);
+    }
+    errno = EAFNOSUPPORT;
+    return (-1);
+}
+
+
 /* Connects to the peer and returns a socket
  * descriptor.
  */
