diff -urN mktemp-1.5.orig/Makefile mktemp-1.5/Makefile
--- mktemp-1.5.orig/Makefile	1997-09-16 18:54:17.000000000 +0000
+++ mktemp-1.5/Makefile	2003-08-03 12:34:02.420000000 +0000
@@ -1,5 +1,16 @@
-#	$OpenBSD: Makefile,v 1.1 1996/11/21 07:59:31 millert Exp $
+PROG=mktemp
 
-PROG=	mktemp
+mandir=man
 
-.include <bsd.prog.mk>
+CC=gcc
+CFLAGS=-Wall
+
+all:	$(PROG)
+
+clean:
+	rm -f $(PROG) *.o
+
+install:
+	mkdir -p $(DESTDIR)/bin $(DESTDIR)/$(mandir)/man1
+	bsdinst -m 755 -o tgc -g user mktemp $(DESTDIR)/bin/mktemp
+	bsdinst -m 644 -o tgc -g user mktemp.1 $(DESTDIR)/$(mandir)/man1
diff -urN mktemp-1.5.orig/mktemp.c mktemp-1.5/mktemp.c
--- mktemp-1.5.orig/mktemp.c	1997-09-16 18:54:02.000000000 +0000
+++ mktemp-1.5/mktemp.c	2003-08-03 12:33:22.150000000 +0000
@@ -38,10 +38,28 @@
 #include <stdlib.h>
 #include <string.h>
 #include <unistd.h>
-#include <err.h>
+#include <sys/types.h>
+#include <sys/stat.h>
+#include <errno.h>
+#include <stdarg.h>
 
 extern char *__progname;
 
+void err(int somecode, char * message, ...) {
+    va_list arglist;
+
+    va_start(arglist, message);
+    vfprintf(stderr, message, arglist);
+    fprintf(stderr, "\n");
+    va_end(arglist);
+
+    exit(somecode);
+}
+
+void errx(int somecode, char * message) {
+    err(somecode, message);
+}
+
 void
 usage()
 {
